DEF test_AMW()
;
EXT BAS (BAS_COMMAND :In,REAL :In )

INT I

BAS (#INITMOV,0 )

;******SETTINGS For PTP MOTION***********************
;FOLD Set PTP $VEL_AXIS And $ACC_AXIS
For I=1 To 6
$VEL_AXIS[I]=30
$ACC_AXIS[I]=20
ENDFOR
;ENDFOLD (Set PTP $VEL_AXIS And $ACC_AXIS)

;******SETTINGS For LIN And ARC MOTION***************
;FOLD Set LIN And ARC MOTION VARIABLES
$VEL.CP=0.17
$VEL.ORI1=400
$VEL.ORI2=400
$ACC.CP=10.00000
$ACC.ORI1=1000
$ACC.ORI2=1000
;ENDFOLD (Set LIN And ARC MOTION VARIABLES)

;******SETTINGS For POSITIONING CRITERIA*************
;FOLD Set POSITIONING CRITERIA
$APO.CDIS = 0.10000
$ORI_TYPE = #VAR
;ENDFOLD (Set POSITIONING CRITERIA)

$BASE={X 0 , Y 0 , Z 0 , A 0 , B 0, C 0 }
$TOOL={X 304, Y 0, Z 633, A 0, B 45, C 0}

PTP {A1 0, A2 -90, A3 90, A4 0, A5 56, A6 0, E1 0, E2 0, E3 0, E4 0, E5 0, E6 0}

PTP {A1 0, A2 -90, A3 90, A4 0, A5 56, A6 0, E1 0, E2 0, E3 0, E4 0, E5 0, E6 0}
;Extrusion
$ACT_TOOL =2
BAS(#TOOL, 2)
$TOOL={X 304, Y 0, Z 633, A 0, B 45, C 0}
$BASE={X 0 , Y 0 , Z 0 , A 0 , B 0, C 0 }
PTP {A1 0, A2 -90, A3 90, A4 0, A5 56, A6 0, E1 0, E2 0, E3 0, E4 0, E5 0, E6 0}

;LEAD-IN
$VEL.CP=0.25
LIN {X 722.23, Y 1094.29, Z 1669.36, A 0.0, B -90.0, C 25.42, E1 0}
$VEL.CP=0.05
LIN {X 722.23, Y 1094.29, Z 1169.36, A 0.0, B -90.0, C 25.42, E1 0}
EXTRUDE=TRUE

;PATH
$VEL.CP=0.02
LIN {X 1045.77, Y 843.06, Z 1169.36, A -38.56, B -90.0, C 90.0, E1 0}
LIN {X 1330.53, Y 548.95, Z 1169.36, A 43.48, B -90.0, C -0.0, E1 0}
LIN {X 1509.62, Y 186.03, Z 1169.36, A 36.8, B -90.0, C -90.0, E1 0}
LIN {X 1297.99, Y -136.42, Z 1169.36, A 28.1, B -90.0, C -90.0, E1 0}
LIN {X 939.84, Y -335.62, Z 1169.36, A -50.28, B -90.0, C 3.66, E1 0}
LIN {X 687.04, Y -637.7, Z 1169.36, A 81.2, B -90.0, C -90.0, E1 0}
LIN {X 813.35, Y -1019.48, Z 1169.36, A -157.7, B -90.0, C 180.0, E1 0}
LIN {X 1075.87, Y -1333.39, Z 1169.36, A -140.86, B -90.0, C 179.1, E1 0}
LIN {X 1381.59, Y -1606.12, Z 1169.36, A 45.87, B -90.0, C 0.4, E1 0}
LIN {X 1713.12, Y -1846.88, Z 1169.36, A -129.06, B -90.0, C -179.37, E1 0}
EXTRUDE=FALSE

;LEAD-OUT
$VEL.CP=0.25
LIN {X 1713.12, Y -1846.88, Z 1669.36, A -129.06, B -90.0, C -179.37, E1 0}
EXTRUDE=FALSE

PTP {A1 0, A2 -90, A3 90, A4 0, A5 56, A6 0, E1 0, E2 0, E3 0, E4 0, E5 0, E6 0}

END
